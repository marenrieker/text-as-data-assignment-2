tokens(remove_numbers = T, remove_punct = T) %>%
tokens_remove(pattern = stopwords("de")) %>%
dfm()
###########################################################GET THE ECHO OUT
#mp <- mp_corpus(party == c(41112, 41113, #greens
#                           41221, 41222, 41223, #left
#                           41320, #spd
#                           41420, #fdp
#                           41521, #union
#                           41953) & date >= 199001) #afd
#elegante version klappt noch nicht
mpds <- data.frame(mp_maindataset(version = "MPDS2022a"))
mpds_de <- mpds %>%
filter(countryname == "Germany"
& date >= 199001
& party != "41952" #taking the pirates out of the dataset
& party != "41912") #same for the ssw
as.data.frame(mpds_de)
mpc <- mp_corpus(mpds_de)
mpc <- corpus(mpc)
#which years, parties, countries are included
filter(mpds_de, party == 41320)
filter(mpds_de, party == 41953)
table(mpds_de$date)
?mp_corpus
knitr::opts_chunk$set(echo = F)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
library(tm)
library(tidyverse)
library(quanteda)
library(topicmodels)
library(tidytext)
try_lda <- LDA(dfmat, k = 7)
dfmat <- mpc %>%
tokens(remove_numbers = T, remove_punct = T) %>%
tokens_remove(pattern = stopwords("de")) %>%
dfm()
dfmat
try_lda <- LDA(dfmat, k = 7)
try_lda
try_lda
mani_topics <- tidy(try_lda, matrix = "beta")
mani_topics
mp_top_terms <- mani_topics %>%
group_by(topic) %>%
slice_max(beta, n = 10) %>%
ungroup() %>%
arrange(topic, -beta)
mp_top_terms %>%
ggplot(aes(beta, term, fill = factor(topic))) +
geom_col(show.legend = FALSE) +
facet_wrap(~ topic, scales = "free") +
scale_y_reordered()
?tokens_remove()
mpds_de %>% count(party)
?corpus
mpc %>% docvars() %>% names()
knitr::opts_chunk$set(echo = F)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
library(tm)
library(tidyverse)
library(quanteda)
library(topicmodels)
library(tidytext)
###########################################################GET THE ECHO OUT
#mp <- mp_corpus(party == c(41112, 41113, #greens
#                           41221, 41222, 41223, #left
#                           41320, #spd
#                           41420, #fdp
#                           41521, #union
#                           41953) & date >= 199001) #afd
#elegante version klappt noch nicht
mpds <- data.frame(mp_maindataset(version = "MPDS2022a"))
mpds_de <- mpds %>%
filter(countryname == "Germany"
& date >= 199001
& party != "41952" #taking the pirates out of the dataset
& party != "41912") #same for the ssw
as.data.frame(mpds_de)
mpc <- mp_corpus(mpds_de) #turn the data frame into a corpus
mpc <- corpus(mpc)
#which years, parties, countries are included
table(mpds_de$date)
mpds_de %>% count(party) #nicht so, aber hier dann linke & gr√ºne zusammenfassen
View(mpds_de)
dfmat <- mpc %>%
tokens(remove_numbers = T, remove_punct = T) %>%
tokens_remove(pattern = stopwords("de")) %>%
dfm()
dfmat
knitr::opts_chunk$set(echo = F)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
library(tm)
library(tidyverse)
library(quanteda)
library(topicmodels)
library(tidytext)
mpds <- data.frame(mp_maindataset(version = "MPDS2022a"))
mpds_de <- mpds %>%
filter(countryname == "Germany"
& date >= 199001
& party != "41952" #taking the pirates out of the dataset
& party != "41912") #same for the ssw
as.data.frame(mpds_de)
mpc <- mpds_de %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
corpus()
mpds <- mp_corpus(countryname == "Germany"
& date >= 199001
& party != "41952"
& party != "41912")
mpc <- mpds %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
corpus()
manifesto_corpus
mpc
dfmpds <- data.frame(mp_maindataset(version = "MPDS2022a"))
mpds_de <- dfmpds %>%
filter(countryname == "Germany"
& date >= 199001
& party != "41952" #taking the pirates out of the dataset
& party != "41912") #same for the ssw
View(mpds_de)
mpds_de <- dfmpds %>%
subset(countryname == "Germany") %>%
select(party, partyname) %>%
distinct()
View(mpds_de)
#create a dataframe to access more information
dfmpds <- data.frame(mp_maindataset(version = "MPDS2022a"))
#find out the party codes of parties of interest
mpds_de <- dfmpds %>%
subset(countryname == "Germany") %>%
select(party, partyname) %>%
distinct()
mpds_de <- dfmpds %>%
filter(countryname == "Germany"
& date >= 199001
& party != "41952" #taking the pirates out of the dataset
& party != "41912") #same for the ssw
#create the corpus, including the relevant German parties since 1990
mpds <- mp_corpus(countryname == "Germany"
& date >= 199001
& party != "41952"
& party != "41912")
mpc <- mpds %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
corpus()
mpc
stopwords("de")
#tokenisation
tokens_de <- scotland_corpus %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("de")) %>%
tokens_wordstem()
#tokenisation
tokens_de <- mpc %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("de")) %>%
tokens_wordstem()
tokens_de
dfmat <- mpc %>%
dfm()
dfmat
dfmat <- tokens_de %>%
dfm()
dfmat
if (!require("pacman")) install.packages("pacman")
pacman::p_load_current_gh("trinker/lemmar")
corpus_trim(tokens_de, min_ntoken = 3)
trim_mpc <- tokens_de %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
corpus()
tokens_de <- tokens_select(toks, min_nchar=3L)
tokens_de <- tokens_select(tokens_de, min_nchar=3L)
tokens_de
tokens_de <- tokens_select(tokens_de, min_nchar=4L)
tokens_de
#document-feature-matrix
manifesto_dfm <- tokenized_manifesto %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop") %>%
dfm_subset(cmp_code %in% c("301", "110", "108"))
View(mpds_de)
"per605_2" %in% names(mpc)
"per605_2" %in% names(mpds_de)
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop") %>% #count the proportion of word per document
dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", "per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", "per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022", "per2023", "per6013", "per6061", "per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", "per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
manifesto_dfm
manifesto_dfm
dfmat <- tokens_de %>%
dfm()
dfmat
dfmat <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop")
dfmat
dfmat <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop")%>% #count the proportion of word per document
dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", "per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", "per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022", "per2023", "per6013", "per6061", "per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", "per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
dfmat
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop") %>% #count the proportion of word per document
#  dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", #"per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", #"per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022", "per2023", "per6013", "per6061", #"per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", #"per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
manifesto_dfm
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop") #%>% #count the proportion of word per document
#  dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", #"per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", #"per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022", "per2023", "per6013", "per6061", #"per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", #"per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
manifesto_dfm
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) #%>%
#  dfm_weight(scheme = "prop") #%>% #count the proportion of word per document
#  dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", #"per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", #"per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022", "per2023", "per6013", "per6061", #"per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", #"per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
manifesto_dfm
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop") #%>% #count the proportion of word per document
#  dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", #"per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", #"per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022", "per2023", "per6013", "per6061", #"per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", #"per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
manifesto_dfm
install.packages("stm"")
library(stm)
knitr::opts_chunk$set(echo = T)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
knitr::opts_chunk$set(echo = F)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
library(tm)
library(tidyverse)
library(quanteda)
library(topicmodels)
library(tidytext)
library(stm)
?stm_tidiers
library(tidytext)
?stim()
?stm
try_stm <- stm(manifesto_dfm, 10, prevalence = s(party, date))
try_stm <- stm(manifesto_dfm, K = 10, prevalence = s(party, date))
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
dfm_group(cmp_code)# %>%
#  dfm_weight(scheme = "prop") #%>% #count the proportion of word per document - kann stm glaube ich auch!
#  dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", #"per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", #"per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022", "per2023", "per6013", "per6061", #"per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", #"per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
manifesto_dfm
try_stm <- stm(manifesto_dfm, K = 10, prevalence = s(party, date))
try_stm <- stm(manifesto_dfm, K = 10, prevalence = s(date))
try_stm <- stm(manifesto_dfm, K = 10)
try_stm <- stm(manifesto_dfm, K = 10, max.em.its = 50)
library(manifestoR)
knitr::opts_chunk$set(echo = F)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
library(tm)
library(tidyverse)
library(quanteda)
library(readtext)
library(topicmodels)
library(tidytext)
library(stm)
```{r, include = TRUE}
#create a dataframe to access more information
dfmpds <- data.frame(mp_maindataset(version = "MPDS2022a"))
#find out the party codes of parties of interest
mpds_de <- dfmpds %>%
subset(countryname == "Germany") %>%
select(party, partyname) %>%
distinct()
mpds_de <- dfmpds %>%
filter(countryname == "Germany"
& date >= 199001
& party != "41952" #taking the pirates out of the dataset
& party != "41912") #same for the ssw
#create the corpus, including the relevant German parties since 1990
mpds <- mp_corpus(countryname == "Germany"
& date >= 199001
& party != "41952"
& party != "41912")
mpc <- mpds %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
corpus()
#tokenisation
tokens_de <- mpc %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("de")) %>%
tokens_wordstem()
tokens_de <- tokens_select(tokens_de, min_nchar=4L) #excluding party names
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
#  dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", #"per109", "per110", "per201", "per202", "per304", "per305", "per406", #"per407", "per411", "per413", "per501", "per502", "per503", "per506", #"per507", "per601", "per602", "per603", "per604", "per605", "per606", #"per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", #"per1022", "per2022", "per2023", "per6013", "per6061", "per6071", "per7062", #"per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", #"per601_2", "per602_1", "per602_2", "per605_1", "per605_2", "per606_1", #"per606_2", "per607_1", "per607_2", "per608_1", "per608_2")) %>%
dfm_group(cmp_code)
manifesto_dfm
View(mpds_de)
View(mpds)
View(mpds_de)
mpds_cmp <- mpds_de %>%
subset(per103, per104, per105, per107, per108, per109, per110, per201, per202, per304, per305, per406, per407, per411, per413, per501, per502, per503, per506, per507, per601, per602, per603, per604, per605, per606, per607, per608, per705, per706, per1011, per1012, per1021, per1022, per2022, per2023, per6013, per6061, per6071, per7062, per201_1, per201_2, per202_3, per202_4, per416_2, per601_1, per601_2, per602_1, per602_2, per605_1, per605_2, per606_1, per606_2, per607_1, per607_2, per608_1, per608_2)
mpds_cmp <- mpds_de %>%
subset(select = c(per103, per104, per105, per107, per108, per109, per110, per201, per202, per304, per305, per406, per407, per411, per413, per501, per502, per503, per506, per507, per601, per602, per603, per604, per605, per606, per607, per608, per705, per706, per1011, per1012, per1021, per1022, per2022, per2023, per6013, per6061, per6071, per7062, per201_1, per201_2, per202_3, per202_4, per416_2, per601_1, per601_2, per602_1, per602_2, per605_1, per605_2, per606_1, per606_2, per607_1, per607_2, per608_1, per608_2))
View(mpds_cmp)
mpds_cmp <- mpds_de %>%
subset(select = c(date, party, partyabbrev, per103, per104, per105, per107, per108, per109, per110, per201, per202, per304, per305, per406, per407, per411, per413, per501, per502, per503, per506, per507, per601, per602, per603, per604, per605, per606, per607, per608, per705, per706, per1011, per1012, per1021, per1022, per2022, per2023, per6013, per6061, per6071, per7062, per201_1, per201_2, per202_3, per202_4, per416_2, per601_1, per601_2, per602_1, per602_2, per605_1, per605_2, per606_1, per606_2, per607_1, per607_2, per608_1, per608_2))
mpc <- mpds_cmp %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
corpus()
#tokenisation
tokens_de <- mpds_cmp %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("de")) %>%
tokens_wordstem()
#tokenisation
tokens_de <- mpc %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("deutsch")) %>%
tokens_wordstem()
#create the corpus, including the relevant German parties since 1990
mpds <- mp_corpus(countryname == "Germany"
& date >= 199001
& party != "41952"
& party != "41912")
mpc <- mpds %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
corpus()
#tokenisation
tokens_de <- mpc %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("deutsch")) %>%
tokens_wordstem()
?stopwords_getlanguages
#tokenisation
tokens_de <- mpc %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("de")) %>%
tokens_wordstem()
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>% #exclude na, headlines or uncoded quasi-sentences
#  dfm_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", #"per109", "per110", "per201", "per202", "per304", "per305", "per406", #"per407", "per411", "per413", "per501", "per502", "per503", "per506", #"per507", "per601", "per602", "per603", "per604", "per605", "per606", #"per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", #"per1022", "per2022", "per2023", "per6013", "per6061", "per6071", "per7062", #"per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", #"per601_2", "per602_1", "per602_2", "per605_1", "per605_2", "per606_1", #"per606_2", "per607_1", "per607_2", "per608_1", "per608_2")) %>%
dfm_group(cmp_code)
manifesto_dfm
head(docvars(mpc))
#tokenisation
tokens_de <- mpc %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("de")) %>%
tokens_wordstem()
#tokenisation
tokens_de <- mpc %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("de")) %>%
tokens_wordstem()
tokens_de <- tokens_select(tokens_de, min_nchar=4L) #excluding party names
knitr::opts_chunk$set(echo = F)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
library(tm)
library(tidyverse)
library(quanteda)
library(topicmodels)
library(tidytext)
library(stm)
mpc_rel <- mpc %>%
corpus_subset(cmp_code %in% c("per103", "per104", "per105", "per107", "per108", "per109", "per110", "per201", "per202", "per304", "per305", "per406", "per407", "per411", "per413", "per501", "per502", "per503", "per506", "per507", "per601", "per602", "per603", "per604", "per605", "per606", "per607", "per608", "per705", "per706", "per1011", "per1012", "per1021", "per1022", "per2022","per2023", "per6013", "per6061", "per6071", "per7062", "per201_1", "per201_2", "per202_3", "per202_4", "per416_2", "per601_1", "per601_2", "per602_1", "per602_2", "per605_1", "per605_2", "per606_1", "per606_2", "per607_1", "per607_2", "per608_1", "per608_2"))
head(docvars(mpc_rel))
head(docvars(mpc))
head(docvars(mpc))
?unique_docnames
?corpus
mpc <- mpds %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE, meta = party) %>%
corpus()
mpc <- mpds %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE, meta = "partyabbrev") %>%
corpus()
head(docvars(mpc))
is.na(cmp_code)
is.na(mpc$cmp_code)
head(mpc)
head(mpc_rel)
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>%
dfm_group(cmp_code)
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>%
dfm_group()
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>%
dfm_group(cmp_code)
manifesto_dfm
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>%
dfm_group()
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>%
dfm_group()
manifesto_dfm
#document-feature-matrix
manifesto_dfm <- tokens_de %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>%
dfm_group(cmp_code)
manifesto_dfm
mpds_de %>%
distinct(date)
mpds_de %>%
distinct(date, title)
mpds_de %>%
distinct(date, text)
mpds_de %>%
distict(country)
mpds_de %>%
distinct(country)
mpds_de %>%
distinct(countryname)
mpds_de %>%
distinct(partyabbrev)
partyabbrev[f] <- "90/Greens"
mpds_de <- within(df, {
f <- party == "41112"
party[f] <- "41113"
partyabbrev[f] <- "90/Greens"
})
mpds_de <- within(mpds_de, {
f <- party == "41112"
party[f] <- "41113"
partyabbrev[f] <- "90/Greens"
})
mpds_de <- within(mpds_de, {
f <- party == "41221"  | party == "41222"
party[f] <- "41223"
partyabbrev[f] <- "LINKE"
})
mpds_de %>%
distinct(partyabbrev)
knitr::opts_chunk$set(echo = F)
library(manifestoR)
mp_setapikey("manifesto_apikey.txt")
library(tm)
library(tidyverse)
library(quanteda)
library(topicmodels)
library(tidytext)
mpds_de %>%
distinct(date)
